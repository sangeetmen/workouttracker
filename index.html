<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitTrack - Gym & Exercise Tracker</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <h1>FitTrack</h1>
            <div class="streak-counter">
                <span id="streak-display">Streak: 0 days</span>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Search/Query/View Section -->
            <section id="search-section" class="content-section active">
                <div class="search-container">
                    <input type="text" id="search-input" class="form-control search-input" placeholder="Search exercises...">
                    <button id="search-btn" class="btn btn--primary search-btn">Search</button>
                </div>

                <div id="search-results" class="search-results hidden">
                    <h3>Search Results</h3>
                    <div id="search-results-list"></div>
                </div>
                
                <div id="default-exercises" class="default-exercises">
                    <h3>All Exercises</h3>
                    <div id="all-exercises-list"></div>
                </div>
            </section>

            <!-- Exercise/Workout Entry Section -->
            <section id="entry-section" class="content-section">
                <div class="entry-form-container">
                    <h3>Log Workout</h3>
                    
                    <form id="workout-form" class="workout-form">
                        <div class="form-group">
                            <label class="form-label">Date *</label>
                            <input type="date" id="workout-date" class="form-control" required>
                            <div class="error-message" id="date-error"></div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Category *</label>
                            <select id="exercise-category" class="form-control" required>
                                <option value="">Select Category</option>
                                <option value="Upper Body">Upper Body</option>
                                <option value="Lower Body">Lower Body</option>
                                <option value="Core">Core</option>
                                <option value="Mobility">Mobility</option>
                                <option value="Cardio">Cardio</option>
                                <option value="Swimming">Swimming</option>
                                <option value="Rest Day">Rest Day</option>
                            </select>
                            <div class="error-message" id="category-error"></div>
                        </div>

                        <div class="form-group" id="exercise-selection-group">
                            <label class="form-label">Exercise *</label>
                            <select id="exercise-select" class="form-control" required>
                                <option value="">Select Exercise</option>
                            </select>
                            <div class="error-message" id="exercise-error"></div>
                        </div>

                        <!-- Dynamic form fields will be inserted here -->
                        <div id="dynamic-form-fields"></div>

                        <div class="form-actions">
                            <button type="button" id="add-exercise-btn" class="btn btn--secondary">Add Another Exercise</button>
                            <button type="submit" class="btn btn--primary">Save Workout</button>
                        </div>
                    </form>

                    <!-- Current Workout Exercises -->
                    <div id="current-workout-exercises" class="current-exercises hidden">
                        <h4>Today's Exercises</h4>
                        <div id="exercises-list"></div>
                    </div>
                </div>
            </section>

            <!-- Master Management Section -->
            <section id="master-section" class="content-section">
                <div class="master-container">
                    <h3>Exercise Management</h3>
                    
                    <!-- Add New Exercise Form -->
                    <div class="add-exercise-form">
                        <h4>Add New Exercise</h4>
                        <form id="add-exercise-form">
                            <div class="form-group">
                                <label class="form-label">Exercise Name *</label>
                                <input type="text" id="new-exercise-name" class="form-control" required>
                                <div class="error-message" id="new-name-error"></div>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Category *</label>
                                <select id="new-exercise-category" class="form-control" required>
                                    <option value="">Select Category</option>
                                    <option value="Upper Body">Upper Body</option>
                                    <option value="Lower Body">Lower Body</option>
                                    <option value="Core">Core</option>
                                    <option value="Mobility">Mobility</option>
                                    <option value="Cardio">Cardio</option>
                                    <option value="Swimming">Swimming</option>
                                </select>
                                <div class="error-message" id="new-category-error"></div>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Muscle Groups</label>
                                <div class="checkbox-group" id="muscle-groups-checkboxes">
                                    <label class="checkbox-label"><input type="checkbox" value="Chest"> Chest</label>
                                    <label class="checkbox-label"><input type="checkbox" value="Back"> Back</label>
                                    <label class="checkbox-label"><input type="checkbox" value="Shoulders"> Shoulders</label>
                                    <label class="checkbox-label"><input type="checkbox" value="Biceps"> Biceps</label>
                                    <label class="checkbox-label"><input type="checkbox" value="Triceps"> Triceps</label>
                                    <label class="checkbox-label"><input type="checkbox" value="Quadriceps"> Quadriceps</label>
                                    <label class="checkbox-label"><input type="checkbox" value="Hamstrings"> Hamstrings</label>
                                    <label class="checkbox-label"><input type="checkbox" value="Glutes"> Glutes</label>
                                    <label class="checkbox-label"><input type="checkbox" value="Calves"> Calves</label>
                                    <label class="checkbox-label"><input type="checkbox" value="Core"> Core</label>
                                    <label class="checkbox-label"><input type="checkbox" value="Full Body"> Full Body</label>
                                    <label class="checkbox-label"><input type="checkbox" value="Cardiovascular"> Cardiovascular</label>
                                </div>
                            </div>
                            <div class="form-group">
                              <label for="new-exercise-image-url">Reference Image (URL)</label>
                              <input type="url" id="new-exercise-image-url" class="form-control" placeholder="https://example.com/image.jpg">
                            
                              <div class="or-separator" style="margin: 8px 0; text-align:center; color: var(--color-text-secondary);">or</div>
                            
                              <label for="new-exercise-image-file">Upload Image</label>
                              <input type="file" id="new-exercise-image-file" accept="image/*" class="form-control">
                            
                              <div id="new-exercise-image-preview" class="image-preview" style="margin-top: 8px; display:none;">
                                <img id="new-exercise-image-preview-img" alt="Preview" style="max-width: 160px; border-radius: 8px; border: 1px solid var(--color-border);">
                              </div>
                            </div>

                            <button type="submit" class="btn btn--primary">Add Exercise</button>
                        </form>
                    </div>

                    <!-- Exercise List -->
                    <div class="exercise-list-container">
                        <h4>Existing Exercises</h4>
                        <div class="filter-controls">
                            <select id="filter-category" class="form-control">
                                <option value="">All Categories</option>
                                <option value="Upper Body">Upper Body</option>
                                <option value="Lower Body">Lower Body</option>
                                <option value="Core">Core</option>
                                <option value="Mobility">Mobility</option>
                                <option value="Cardio">Cardio</option>
                                <option value="Swimming">Swimming</option>
                            </select>
                        </div>
                        <div id="exercises-list-master" class="exercises-grid"></div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-item active" data-section="search-section" aria-label="Search Section">
                <span class="nav-icon">🔍</span>
                <span class="nav-label">Search</span>
            </button>
            <button class="nav-item" data-section="entry-section" aria-label="Entry Section">
                <span class="nav-icon">📝</span>
                <span class="nav-label">Entry</span>
            </button>
            <button class="nav-item" data-section="master-section" aria-label="Master Section">
                <span class="nav-icon">⚙️</span>
                <span class="nav-label">Master</span>
            </button>
        </nav>
    </div>

    <!-- Modals -->
    <!-- Exercise Detail Modal -->
    <div id="exercise-detail-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-exercise-name"></h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div id="modal-last-workout" class="modal-section">
                    <h4>Last Workout</h4>
                    <div id="last-workout-info"></div>
                </div>
                <div id="modal-personal-records" class="modal-section">
                    <h4>Personal Records</h4>
                    <div id="personal-records-info"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Workout Detail Modal -->
    <div id="workout-detail-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-workout-title"></h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div id="modal-workout-details"></div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast hidden">
        <span id="toast-message"></span>
    </div>

    <script src="app.js"></script>
</body>
</html>
